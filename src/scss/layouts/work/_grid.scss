@use '../../config/fonts';
@use '../../components/tags';

.project-grid {
  display: flex;
  border-bottom: var(--border);

  & > * {
    flex: 1;
  }

  li {
    border-right: var(--border);
    display: grid;

    a {
      display: grid;
      grid-template-rows: 1fr;

      &::after {
        content: '';
      }

      &:hover {
        left: 0;

        button {
          transform: translateX(4px);
        }
      }
    }

    &:last-child {
      border-right: none;
    }

    .image-container {
      align-self: flex-start;
      border-bottom: var(--border);

      img {
        width: 100%;
        display: block;
        height: 100%;
        object-fit: cover;
      }
    }

    .text-container {
      padding: var(--s) var(--m);

      h5 {
        @include fonts.medium-text(var(--xs), var(--black));
        line-height: 1.4;
        margin-bottom: var(--xs);

        span {
          color: var(--text-grey);
        }
      }

      p {
        @include fonts.light-text(var(--xs), var(--black));
        line-height: 2;
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
      }

      ul {
        display: flex;
        margin: var(--s) 0;

        li {
          margin-right: var(--xs);
          @include tags.tag(var(--background-grey), var(--black));
          border-right: none;
        }
      }

      button {
        padding: 0;
        background: transparent;
        border: none;
        @include fonts.uppercase-text(var(--xxs), var(--black));
        left: auto;
        transition: all .1s ease-in-out;

        &:after {
          content: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMiAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjEyNSA4SDkuMzc1QzkuMTY0MDYgOCA5IDguMTg3NSA5IDguMzc1VjExSDEuNVYzLjVINC44NzVDNS4wNjI1IDMuNSA1LjI1IDMuMzM1OTQgNS4yNSAzLjEyNVYyLjM3NUM1LjI1IDIuMTg3NSA1LjA2MjUgMiA0Ljg3NSAySDEuMTI1QzAuNDkyMTg4IDIgMCAyLjUxNTYyIDAgMy4xMjVWMTEuMzc1QzAgMTIuMDA3OCAwLjQ5MjE4OCAxMi41IDEuMTI1IDEyLjVIOS4zNzVDOS45ODQzOCAxMi41IDEwLjUgMTIuMDA3OCAxMC41IDExLjM3NVY4LjM3NUMxMC41IDguMTg3NSAxMC4zMTI1IDggMTAuMTI1IDhaTTExLjEwOTQgMC41SDcuNDA2MjVDNy4wMzEyNSAwLjUgNi43NSAwLjgwNDY4OCA2Ljc1IDEuMTU2MjVWMS42MDE1NkM2Ljc1IDEuOTUzMTIgNy4wMzEyNSAyLjIzNDM4IDcuMzgyODEgMi4yMzQzOEM3LjQwNjI1IDIuMjM0MzggNy40MDYyNSAyLjIzNDM4IDcuNDA2MjUgMi4yMzQzOEw5IDIuMTg3NUwzLjE2NDA2IDhDMy4wNzAzMSA4LjA5Mzc1IDIuOTc2NTYgOC4yNTc4MSAyLjk3NjU2IDguMzk4NDRDMi45NzY1NiA4LjUxNTYyIDMuMDcwMzEgOC43MDMxMiAzLjE2NDA2IDguNzk2ODhMMy43MDMxMiA5LjMzNTk0SDMuNzI2NTZDMy43OTY4OCA5LjQyOTY5IDMuOTg0MzggOS41IDQuMTAxNTYgOS41QzQuMjQyMTkgOS41IDQuNDI5NjkgOS40Mjk2OSA0LjUgOS4zMzU5NEwxMC4zMTI1IDMuNUwxMC4yNjU2IDUuMDkzNzVDMTAuMjY1NiA1LjQ2ODc1IDEwLjU0NjkgNS43NSAxMC45MjE5IDUuNzVIMTEuMzQzOEMxMS42OTUzIDUuNzUgMTIgNS40Njg3NSAxMiA1LjA5Mzc1VjEuMzkwNjJDMTIgMC44OTg0MzggMTEuNjAxNiAwLjUgMTEuMTA5NCAwLjVaIiBmaWxsPSIjMUYxRjFGIi8+Cjwvc3ZnPgo=");
          position: relative;
          margin-left: .25rem;
        }

        &:hover {
          left: .25rem;
        }
      }
    }
  }
}

// Regular desktop screens
@media screen and (max-width: 1220px) {
  .project-grid {
    li {
      .image-container {
        height: 240px;
      }

      .text-container {
        padding: var(--xs);
      }
    }
  }
}

// iPad portrait
@media screen and (max-width: 860px) {
  .project-grid {
    flex-wrap: wrap;

    & > * {
      flex: 50%;
      box-sizing: border-box;
    }

    li:last-child {
      .image-container {
        height: auto;
      }
    }
  }
}

// Mobile landscape
@media screen and (max-width: 720px) {
  .project-grid {
    & > * {
      flex: 100%;
    }

    li {
      .image-container {
        height: auto;
      }
    }
  }
}

// Mobile portrait
@media screen and (max-width: 570px) {
  .project-grid {
    li {
      .text-container {
        padding: var(--xxs);
      }
    }
  }
}